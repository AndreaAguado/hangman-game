{"version":3,"sources":["services/callToApi.js","components/Header.js","components/App.js","index.js"],"names":["callToApi","fetch","then","response","json","body","Word","Header","className","App","useState","lastLetter","setLastLetter","word","setWord","userLetters","setUserLetters","useEffect","findWrongLetters","filter","userLetter","includes","split","map","letter","index","find","findLetters","incorrectLetter","onSubmit","ev","preventDefault","htmlFor","onChange","target","value","isValid","pattern","RegExp","test","validar","autoComplete","maxLength","type","name","id","length","ReactDOM","render","document","getElementById"],"mappings":"uNASeA,G,MATG,WACd,OAAOC,MAAM,+DACRC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAC,GAEF,OADeA,EAASE,KAAKC,U,eCI1BC,EAPA,WACX,OACI,iCACI,oBAAIC,UAAU,gBAAd,mCC+IGC,MA9If,WACE,IAEA,EAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAwBF,mBAAS,IAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAAsCJ,mBAAS,IAA/C,mBAAOK,EAAP,KAAoBC,EAApB,KAEAC,qBAAU,WACRjB,IAAYE,MAAK,SAAAC,GACfW,EAAQX,QAET,IAEH,IAoDMe,EAAmB,WAIvB,OAHmBH,EAAYI,QAAO,SAACC,GACrC,OAAQP,EAAKQ,SAASD,OAsB1B,OACE,sBAAKZ,UAAU,OAAf,UACE,cAAC,EAAD,IACA,uBAAMA,UAAU,OAAhB,UACE,oCACE,sBAAKA,UAAU,WAAf,UACE,oBAAIA,UAAU,QAAd,0BACA,oBAAIA,UAAU,UAAd,SA3CYK,EAAKS,MAAM,IACZC,KAAI,SAACC,EAAQC,GAC9B,OATgB,SAACD,GACnB,OAAOT,EAAYW,MAAK,SAACN,GACvB,OAAOA,IAAeI,KAOlBG,CAAYH,GACP,oBAAgBhB,UAAU,SAA1B,SAAoCgB,GAA3BC,GAGT,oBAAgBjB,UAAU,UAAjBiB,WAyCd,sBAAKjB,UAAU,WAAf,UACE,oBAAIA,UAAU,QAAd,8BACA,oBAAIA,UAAU,UAAd,SA9BDU,IAAmBK,KAAI,SAACK,EAAiBH,GAC9C,OAAO,oBAAgBjB,UAAU,SAA1B,SAAoCoB,GAA3BH,WAiCZ,uBAAMjB,UAAU,OAAOqB,SAAU,SAAAC,GAAE,OAAIA,EAAGC,kBAA1C,UACE,uBAAOvB,UAAU,QAAQwB,QAAQ,cAAjC,gCAGA,uBACEC,SAlGa,SAACH,IACxBlB,EAAckB,EAAGI,OAAOC,OAWxB,WACE,IAAIC,EAEEC,EAAU,IAAIC,OAAO,+BASvBF,IAPCN,EAAGI,OAAOC,SAIRE,EAAQE,KAAKT,EAAGI,OAAOC,OAM9B,OAAOC,EAzBMI,MAEAzB,EAAYW,MAAK,SAACN,GAC7B,OAAOA,IAAeU,EAAGI,OAAOC,UAGhCnB,EAAe,GAAD,mBAAKD,GAAL,CAAkBe,EAAGI,OAAOC,WA2FpCM,aAAa,MACbjC,UAAU,cACVkC,UAAU,IACVC,KAAK,OACLC,KAAK,cACLC,GAAG,cACHV,MAAOxB,UAIb,0BAASH,UAAS,sBArCZU,IAAmB4B,QAqCzB,UACE,sBAAMtC,UAAU,iBAChB,sBAAMA,UAAU,iBAChB,sBAAMA,UAAU,kBAChB,sBAAMA,UAAU,kBAChB,sBAAMA,UAAU,iBAChB,sBAAMA,UAAU,iBAChB,sBAAMA,UAAU,iBAChB,sBAAMA,UAAU,iBAChB,sBAAMA,UAAU,iBAChB,sBAAMA,UAAU,iBAChB,sBAAMA,UAAU,iBAChB,sBAAMA,UAAU,iBAChB,sBAAMA,UAAU,2BCvI1BuC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.96bc8d5d.chunk.js","sourcesContent":["const callToApi = () => {\r\n    return fetch('https://palabras-aleatorias-public-api.herokuapp.com/random')\r\n        .then(response => response.json())\r\n        .then(response => {\r\n            const result = response.body.Word;\r\n            return result;\r\n        });\r\n};\r\n\r\nexport default callToApi;","import '../styles/components/Header.scss';\r\nconst Header = () => {\r\n    return (\r\n        <header>\r\n            <h1 className=\"header__title\">Juego del ahorcado</h1>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import '../styles/main.scss';\nimport { useState, useEffect } from 'react';\nimport callToApi from '../services/callToApi';\nimport Header from './Header';\n\nfunction App() {\n  let nErrors;\n  // let wrongLetters;\n  const [lastLetter, setLastLetter] = useState('');\n  const [word, setWord] = useState('');\n  const [userLetters, setUserLetters] = useState([]);\n\n  useEffect(() => {\n    callToApi().then(response => {\n      setWord(response);\n    })\n  }, []);\n\n  const handleLastLetter = (ev) => {\n    setLastLetter(ev.target.value);\n    const valido = validar();\n    if (valido) {\n      const isIn = userLetters.find((userLetter) => {\n        return userLetter === ev.target.value;\n      })\n      if (!isIn) {\n        setUserLetters([...userLetters, ev.target.value]);\n      }\n    }\n\n    function validar() {\n      let isValid;\n      // pattern to match:\n      const pattern = new RegExp('^[a-zA-ZÀ-ÿ\\u00f1\\u00d1]$');\n      //if input is empty it won't be valid:\n      if (!ev.target.value) {\n        isValid = false;\n      } else {\n        //if input doesn't match the permitted pattern it won't be valid:\n        if (!pattern.test(ev.target.value)) {\n          isValid = false;\n        } else {\n          isValid = true;\n        }\n      }\n      return isValid;\n    }\n\n  };\n  // end of handleLastLetter()\n\n  const findLetters = (letter) => {\n    return userLetters.find((userLetter) => {\n      return userLetter === letter;\n    })\n  }\n\n  const renderSolutionLetters = () => {\n    const wordLetters = word.split('');\n    return wordLetters.map((letter, index) => {\n      if (findLetters(letter)) {\n        return <li key={index} className=\"letter\">{letter}</li>\n      }\n      else {\n        return <li key={index} className=\"letter\"></li>\n      }\n\n    });\n  }\n\n  const findWrongLetters = () => {\n    let wrongLetters = userLetters.filter((userLetter) => {\n      return !word.includes(userLetter);\n    })\n    return wrongLetters;\n  }\n  const renderErrorLetters = () => {\n    return findWrongLetters().map((incorrectLetter, index) => {\n      return <li key={index} className=\"letter\">{incorrectLetter}</li>\n    })\n  }\n\n  // const youLost = () => {\n  //   if (calcErrors() === 13) {\n  //     console.log('you lost');\n  //   }\n  // }\n  // youLost();\n\n  const calcErrors = () => {\n    nErrors = findWrongLetters().length;\n    return nErrors;\n  }\n\n  return (\n    <div className=\"page\">\n      <Header></Header>\n      <main className=\"main\">\n        <section>\n          <div className=\"solution\">\n            <h2 className=\"title\">Solución:</h2>\n            <ul className=\"letters\">\n              {renderSolutionLetters()}\n            </ul>\n          </div>\n          <div className=\"feedback\">\n            <h2 className=\"title\">Letras falladas:</h2>\n            <ul className=\"letters\">\n              {renderErrorLetters()}\n            </ul>\n          </div>\n          <form className=\"form\" onSubmit={ev => ev.preventDefault()}>\n            <label className=\"title\" htmlFor=\"last-letter\">\n              Escribe una letra:\n            </label>\n            <input\n              onChange={handleLastLetter}\n              autoComplete=\"off\"\n              className=\"form__input\"\n              maxLength=\"1\"\n              type=\"text\"\n              name=\"last-letter\"\n              id=\"last-letter\"\n              value={lastLetter}\n            />\n          </form>\n        </section>\n        <section className={`dummy error-${calcErrors()}`}>\n          <span className=\"error-13 eye\"></span>\n          <span className=\"error-12 eye\"></span>\n          <span className=\"error-11 line\"></span>\n          <span className=\"error-10 line\"></span>\n          <span className=\"error-9 line\"></span>\n          <span className=\"error-8 line\"></span>\n          <span className=\"error-7 line\"></span>\n          <span className=\"error-6 head\"></span>\n          <span className=\"error-5 line\"></span>\n          <span className=\"error-4 line\"></span>\n          <span className=\"error-3 line\"></span>\n          <span className=\"error-2 line\"></span>\n          <span className=\"error-1 line\"></span>\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","// Fichero src/index.js\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}